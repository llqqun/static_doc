import{_ as o,r as p,o as i,c as l,b as s,d as n,e,a as t}from"./app-1Fk5NupV.js";const r="/images/jt1.png",c="/images/jt2.png",u="/images/jt3.png",d={},m=s("h1",{id:"npm",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#npm","aria-hidden":"true"},"#"),n(" npm")],-1),k={href:"https://npmmirror.com/?spm=a2c6h.24755359.0.0.58f74dcc3VVCku",target:"_blank",rel:"noopener noreferrer"},v=t(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm --registry=https://registry.npmmirror.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="package-json" tabindex="-1"><a class="header-anchor" href="#package-json" aria-hidden="true">#</a> package.json</h2>`,2),b={href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#repository",target:"_blank",rel:"noopener noreferrer"},g=t(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;包名称&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;包描述&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;版本&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token string">&quot;关键字&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;项目主页地址&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//&quot;bugs用于项目问题的反馈issue地址或者一个邮箱&quot;</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 许可证标识代码</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 项目作者</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//内容是模块下文件名或者文件夹名，如果是文件夹名，则文件夹下所有的文件也会被包含进来</span>
  <span class="token property">&quot;funding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 赞助商</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//定义npm包的入口文件</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// npm包的ESM规范</span>
  <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 定义npm包在浏览器环境下的入口文件</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//指定一个代码存放地址，对想要为你的项目贡献代码的人有帮助。url最好是一个公开的地址</span>
  <span class="token property">&quot;script&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//scripts属性是一个对象，里边指定了项目的生命周期个各个环节需要执行的命令。key是生命周期中的事件，value是要执行的命令</span>
  <span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//用于添加命令行的环境变量</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// npm拒绝发布此包</span>
   <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 浏览器兼容配置标准</span>
      <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 2 versions&quot;</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;os&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;darwin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;win32&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 指定模块运行环境</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="browserslist-浏览器兼容配置" tabindex="-1"><a class="header-anchor" href="#browserslist-浏览器兼容配置" aria-hidden="true">#</a> browserslist 浏览器兼容配置</h3><p>package.json 或者 .browserslistrc配置文件</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;last 1 version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;maintained node versions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;not dead&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>查询列表<br> 直接在工程目录下运行npx browserslist 来查看你配置的筛选条件筛选出的浏览器版本范围。</p></blockquote><ul><li>5%: 基于全球使用率统计而选择的浏览器版本范围。&gt;=,&lt;,&lt;=同样适用。</li><li>5% in US : 同上，只是使用地区变为美国。支持两个字母的国家码来指定地区。</li><li>5% in alt-AS : 同上，只是使用地区变为亚洲所有国家。这里列举了所有的地区码。</li><li>5% in my stats : 使用定制的浏览器统计数据。</li><li>cover 99.5% : 使用率总和为99.5%的浏览器版本，前提是浏览器提供了使用覆盖率。</li><li>cover 99.5% in US : 同上，只是限制了地域，支持两个字母的国家码。</li><li>cover 99.5% in my stats :使用定制的浏览器统计数据。</li><li>maintained node versions :所有还被 node 基金会维护的 node 版本。</li><li>node 10 and node 10.4 : 最新的 node 10.x.x 或者10.4.x 版本。</li><li>current node :当前被 browserslist 使用的 node 版本。</li><li>extends browserslist-config-mycompany :来自browserslist-config-mycompany包的查询设置</li><li>ie 6-8 : 选择一个浏览器的版本范围。</li><li>Firefox &gt; 20 : 版本高于20的所有火狐浏览器版本。&gt;=,&lt;,&lt;=同样适用。</li><li>ios 7 :ios 7自带的浏览器。</li><li>Firefox ESR :最新的火狐 ESR（长期支持版） 版本的浏览器。</li><li>unreleased versions or unreleased Chrome versions : alpha 和 beta 版本。</li><li>last 2 major versions or last 2 ios major versions :最近的两个发行版，包括所有的次版本号和补丁版本号变更的浏览器版本。</li><li>since 2015 or last 2 years :自某个时间以来更新的版本（也可以写的更具体since 2015-03或者since 2015-03-10）</li><li>dead :通过last 2 versions筛选的浏览器版本中，全球使用率低于0.5%并且官方声明不在维护或者事实上已经两年没有再更新的版本。目前符合条件的有 IE10,IE_Mob 10,BlackBerry 10,BlackBerry 7,OperaMobile 12.1。</li><li>last 2 versions :每个浏览器最近的两个版本。</li><li>last 2 Chrome versions :chrome 浏览器最近的两个版本。</li><li>defaults :默认配置&gt; 0.5%, last 2 versions, Firefox ESR, not dead。</li><li>not ie &lt;= 8 : 浏览器范围的取反。<br> 可以添加not在任和查询条件前面，表示取反</li></ul><h2 id="npmrc" tabindex="-1"><a class="header-anchor" href="#npmrc" aria-hidden="true">#</a> .npmrc</h2><p>npm 运行时配置文件</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 默认的依赖包安装源
registry=https://registry.npm.taobao.org/

# 配置私有库地址
@lq:registry=http://81.69.237.81:4873/

package-lock=false;     //在安装时忽略lock文件。
loglevel=timing；      // 安装依赖包的时候指定日志的类型
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="私有仓库搭建" tabindex="-1"><a class="header-anchor" href="#私有仓库搭建" aria-hidden="true">#</a> 私有仓库搭建</h2><p>事前准备</p><ul><li>linux centos7 系统</li><li>firewall-cmd 防火墙软件 (系统默认自带,没有开启)</li><li>node 环境</li><li>pm2</li><li>verdaccio 工具</li></ul><ol><li>安装 verdaccio</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install <span class="token operator">-</span>g verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>启动 verdaccio</li></ol><p><img src="`+r+`" alt="Images"></p><ol start="3"><li>打开上图生成的配置文件 config.yaml,在最后写入</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">listen</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">:</span><span class="token number">4873</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>开发端口</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">4873</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>重启防火墙</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li>检查是否配置成功</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>query<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">4873</span><span class="token operator">/</span>tcp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li><p>启动 verdaccio <img src="`+c+`" alt="Images"></p></li><li><p>通过 pm2 守护进程,自动运行</p></li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 start verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="9"><li>按照启动页面进行包的发布,使用 <img src="`+u+'" alt="Images"><blockquote><p>配置失败注意<br> 服务器的防火墙是否配置<br> node 版本 16+</p></blockquote></li></ol><h2 id="浏览器http跳转https" tabindex="-1"><a class="header-anchor" href="#浏览器http跳转https" aria-hidden="true">#</a> 浏览器http跳转https</h2><blockquote><p>chrome</p></blockquote><p>打开chrome://net-internals/#hsts</p><p>左侧菜单Domain Security Policy</p><p>右侧菜单Delete domain security policies</p><p>输入要删除的域名,单击delete</p>',33);function q(h,y){const a=p("ExternalLinkIcon");return i(),l("div",null,[m,s("p",null,[s("a",k,[n("国内镜像配置"),e(a)])]),v,s("p",null,[s("a",b,[n("官网文档"),e(a)])]),g])}const j=o(d,[["render",q],["__file","chore.html.vue"]]);export{j as default};
